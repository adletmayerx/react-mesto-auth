{"version":3,"sources":["images/logo.svg","components/HeaderInfo/HeaderInfo.jsx","components/LoginHeader/LoginHeader.jsx","components/RegisterHeader/RegisterHeader.jsx","components/Header/Header.jsx","contexts/CurrentUserContext.js","components/Card/Card.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","components/Login/Login.jsx","components/Register/Register.jsx","components/PopupWithForm/PopupWithForm.jsx","components/PopupEditAvatar/PopupEditAvatar.jsx","components/PopupEditProfile/PopupEditProfile.jsx","components/PopupAddPlace/PopupAddPlace.jsx","components/PopupDeleteConfirm/PopupDeleteConfirm.jsx","components/PopupImage/PopupImage.jsx","utils/api.js","components/ProtectedRoute/ProtectedRoute.jsx","components/PopupInfo/PopupInfo.jsx","components/PopupSuccess/PopupSuccess.jsx","images/popupInfoImage_success.png","components/PopupFail/PopupFail.jsx","images/popupInfoImage_fail.png","utils/auth.js","components/App.jsx","reportWebVitals.js","index.js"],"names":["HeaderInfo","headerEmail","signOut","className","to","onClick","LoginHeader","RegisterHeader","Header","loggedIn","src","logo","alt","exact","path","element","CurrentUserContext","React","createContext","Card","url","title","likes","owner","id","onCardClick","onRemoveButtonClick","onCardLike","currentUser","useContext","isOwn","_id","elementRemoveButtonClassName","isLiked","some","i","elementLikeButtonClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","name","about","map","card","link","Footer","Login","handleSignIn","useState","email","setEmail","password","setPassword","onSubmit","e","preventDefault","placeholder","value","onChange","target","Register","handleSignUp","required","PopupWithForm","isOpen","onClose","buttonValue","children","PopupEditAvatar","onUpdateAvatar","buttonText","inputRef","useRef","current","ref","PopupEditProfile","onUpdateUser","setName","description","setDescription","useEffect","minLength","maxLength","PopupAddPlace","setTitle","setLink","PopupDeleteConfirm","onDelete","ImagePopup","api","checkResult","res","ok","json","Promise","reject","status","this","_url","_authorizationToken","fetch","headers","authorization","then","data","method","body","JSON","stringify","item","cardId","ProtectedRoute","Component","component","props","PopupInfo","popupType","popupInfoImage","popupInfoTitle","PopupSuccess","PopupFail","BASE_URL","handleResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","isFailPopupOpen","setIsFailPopupOpen","isSuccessPopupOpen","setIsSuccessPopupOpen","setCards","selectedCard","setSelectCard","setCurrentUser","deletingCardId","setDeletingCardId","buttonAvatarText","setButtonAvatarText","buttonProfileText","setButtonProfileText","buttonAddPlaceText","setButtonAddPlaceText","buttonDeleteText","setButtonDeleteText","setLoggedIn","currentUserEmail","setCurrentUserEmail","navigate","useNavigate","closeAllPopups","handlePopupClosing","classList","contains","handleCardDelete","deleteCard","state","filter","c","catch","err","console","log","finally","getInitialCards","initialCards","getUserInfo","token","localStorage","getItem","Accept","Authorization","handleEscClick","key","document","addEventListener","removeEventListener","Provider","removeItem","auth","setItem","statusCode","removeLike","newCard","addLike","onCardDelete","editAvatar","editProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.09e87980.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function HeaderInfo({ headerEmail, signOut }) {\r\n  return (\r\n    <div className=\"header__info\">\r\n      <p className=\"header__email\">{headerEmail}</p>\r\n      <Link to=\"/react-mesto-auth/sign-in\" className=\"header__link link\" onClick={signOut}>\r\n        Выйти\r\n      </Link>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function LoginHeader() {\r\n  return (\r\n    <div className=\"header__sign\">\r\n      <Link to=\"/react-mesto-auth/sign-in\" className=\"header__link link\">\r\n        Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function RegisterHeader() {\r\n  return (\r\n    <div className=\"header__sign\">\r\n      <Link to=\"/react-mesto-auth/sign-up\" className=\"header__link  link\">\r\n        Зарегистрироваться\r\n      </Link>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { Routes, Route} from 'react-router-dom';\r\nimport logo from '../../images/logo.svg'\r\nimport HeaderInfo from '../HeaderInfo/HeaderInfo';\r\nimport LoginHeader from '../LoginHeader/LoginHeader';\r\nimport RegisterHeader from '../RegisterHeader/RegisterHeader';\r\n\r\nexport default function Header({ headerEmail, signOut, loggedIn }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"лого сайта 'Место'\" className=\"header__logo\" />\r\n      <Routes>\r\n        {loggedIn && <Route exact path=\"/react-mesto-auth\" element={<HeaderInfo headerEmail={headerEmail} signOut={signOut} />} />}\r\n        <Route exact path=\"react-mesto-auth/sign-up\" element={<LoginHeader />} />\r\n        <Route exact path=\"react-mesto-auth/sign-in\" element={<RegisterHeader />} />\r\n      </Routes>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default function Card({\r\n  url,\r\n  alt,\r\n  title,\r\n  likes,\r\n  owner,\r\n  id,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const handleClick = () => {\r\n    onCardClick(url, title);\r\n  };\r\n\r\n  const handLikeClick = () => {\r\n    onCardLike(likes, id);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onRemoveButtonClick(id);\r\n  }\r\n\r\n  const isOwn = owner._id === currentUser._id;\r\n  const elementRemoveButtonClassName = `button element__remove-button ${\r\n    isOwn ? \"element__remove-button_visible\" : \"element__remove-button_hidden\"\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => i._id === currentUser._id);\r\n  const elementLikeButtonClassName = `button element__like-button ${\r\n    isLiked && \"element__like-button_active\"\r\n  }`;\r\n  return (\r\n    <article className=\"element\">\r\n      <button\r\n        type=\"button\"\r\n        className={elementRemoveButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className=\"element__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{title}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={elementLikeButtonClassName}\r\n            onClick={handLikeClick}\r\n          ></button>\r\n          <p className=\"element__like-counter\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport Card from '../Card/Card';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  cards,\r\n  onCardLike,\r\n  }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__image-container\" onClick={onEditAvatar}>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"фотография обладателя профиля\"\r\n            className=\"profile__image\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            url={card.link}\r\n            alt={card.name}\r\n            title={card.name}\r\n            likes={card.likes}\r\n            owner={card.owner}\r\n            id={card._id}\r\n            key={card._id}\r\n            onCardClick={onCardClick}\r\n            onRemoveButtonClick={onRemoveButtonClick}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function Login({ handleSignIn }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const handleChangePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (email  || password) {\r\n      handleSignIn(email, password);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"title login__title\">Вход</h2>\r\n      <form name=\"login\" className=\"form login__form\" onSubmit={handleSubmit}>\r\n        <input name=\"email\" type=\"email\" className=\"login__input input input_type_email\" placeholder=\"Email\" value={email}\r\n          onChange={handleChangeEmail} />\r\n        <input name=\"password\" type=\"password\" className=\"login__input input input_type_password\" placeholder=\"Пароль\" value={password}\r\n          onChange={handleChangePassword}/>\r\n        <button type=\"submit\" className=\"login__submit-button form__submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Register({ handleSignUp }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const handleChangePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (email || password) {\r\n      handleSignUp(email, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h2 className=\"title register__title\">Регистрация</h2>\r\n      <form name=\"register\" className=\"form register__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          className=\"register__input input input_type_email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          className=\"register__input input input_type_password\"\r\n          placeholder=\"Пароль\"\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          required\r\n\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"register__submit-button form__submit\"\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link to=\"/react-mesto-auth/sign-in\" className=\"link register__tip\">\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function PopupWithForm({ title, name, isOpen, onClose, buttonValue, children, onSubmit }) {\r\n    return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n          <button type=\"button\" className=\"popup__close-button button\" onClick={onClose}></button>\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          <form name={name} className=\"form\" onSubmit={onSubmit} >\r\n            {children}\r\n            <button type=\"submit\" className=\"popup__save-button popup__submit-button form__submit\">{buttonValue}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupEditAvatar({ isOpen, onClose, onUpdateAvatar, buttonText }) {\r\n  const inputRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm\r\n      title={\"Обновить аватар\"}\r\n      name={\"edit-avatar\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"avatar\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_avatar form__input\"\r\n        id=\"avatar-input\"\r\n        placeholder=\"Обновить аватар\"\r\n        ref={inputRef}\r\n        required\r\n      />\r\n      <span className=\"form__input-error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupEditProfile({ isOpen, onClose, onUpdateUser, buttonText }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({ name, about: description });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Редактировать профиль\"}\r\n      name={\"edit-profile\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name form__input\"\r\n        id=\"name-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Ваше имя\"\r\n        value={name}\r\n        onChange={e => setName(e.target.value)}\r\n      />\r\n      <span className=\"form__input-error name-input-error\"></span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_about form__input\"\r\n        id=\"about-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Расскажите о себе\"\r\n        value={description}\r\n        onChange={e => setDescription(e.target.value)}\r\n      />\r\n      <span className=\"form__input-error about-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupAddPlace({ isOpen, onClose, onAddPlace, buttonText }) {\r\n  const [title, setTitle] = useState('');\r\n  const [link, setLink] = useState('');\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: title,\r\n      link\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n}, [isOpen]);\r\n  \r\n  return (\r\n    <PopupWithForm\r\n      title={\"Новое место\"}\r\n      name={\"add-place\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"title\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_title form__input\"\r\n        id=\"title-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={title}\r\n        onChange={e => setTitle(e.target.value)}\r\n        required\r\n      />\r\n      <span className=\"form__input-error title-input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link form__input\"\r\n        id=\"link-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        value={link}\r\n        onChange={e => setLink(e.target.value)}\r\n        required\r\n      />\r\n      <span className=\"form__input-error link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupDeleteConfirm({ isOpen, onClose, onDelete, buttonText }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Вы уверены?\"}\r\n      name={\"delete-confirm\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup({url, title, onClose}) {\r\n  return (\r\n    <div className={`popup popup-image ${title && \"popup_opened\"}`}>\r\n        <div className=\"popup__container popup-image__container\">\r\n          <button type=\"button\" className=\"popup__close-button popup-image__close-button button\" onClick={onClose}></button>\r\n          <figure className=\"popup-image__figure\">\r\n            <img className=\"popup-image__image\" src={url} alt={title} />\r\n            <figcaption className=\"popup-image__caption\">{title}</figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n  );\r\n}","class Api {\r\n  constructor(url) {\r\n    this._url = url;\r\n    this._authorizationToken = '4bbad6bd-2811-470e-a5ed-e059873eda41';\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url +'/users/me', {\r\n      headers: {\r\n      authorization: this._authorizationToken\r\n    }})\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url +'/cards', {\r\n      headers: {\r\n      authorization: this._authorizationToken\r\n    }})\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  editProfile(data){\r\n    return fetch(this._url +'/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  addCard(item) {\r\n    return fetch(this._url +'/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(item)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._url + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(this._url + '/cards/likes/' + cardId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this._url + '/cards/likes/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  editAvatar(avatar){\r\n    return fetch(this._url +'/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(avatar)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  checkResult = res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28');\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    props.loggedIn ? <Component {...props} /> : <Navigate to=\"/react-mesto-auth/sign-in\" /> );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function PopupInfo({\r\n  popupType,\r\n  popupInfoImage,\r\n  popupInfoTitle,\r\n  isOpen,\r\n  onClose,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`popup popup-info popup-info__${popupType} ${\r\n        isOpen && \"popup_opened\"\r\n      }`}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"popup__container popup-info__container\">\r\n        <button type=\"button\" className=\"popup__close-button button\"></button>\r\n        <img\r\n          src={popupInfoImage}\r\n          alt=\"иконка для попапа\"\r\n          className=\"popup-info__image\"\r\n        />\r\n        <h2 className=\"popup-info__title\">{popupInfoTitle}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupInfo from \"../PopupInfo/PopupInfo\";\r\nimport infoImage from '../../images/popupInfoImage_success.png'\r\n\r\n\r\nexport default function PopupSuccess({ isOpen, onClose }) {\r\n  return (\r\n    <PopupInfo\r\n      popupType=\"success\"\r\n      popupInfoImage={infoImage}\r\n      popupInfoTitle=\"Вы успешно зарегистрировались!\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport PopupInfo from \"../PopupInfo/PopupInfo\";\r\nimport infoImage from \"../../images/popupInfoImage_fail.png\";\r\n\r\nexport default function PopupFail({ isOpen, onClose }) {\r\n  return (\r\n    <PopupInfo\r\n      popupType=\"fail\"\r\n      popupInfoImage={infoImage}\r\n      popupInfoTitle=\"Что-то пошло не&nbsp;так! Попробуйте ещё раз!\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst handleResponse = (res) =>  {\r\n  if (res.ok) {\r\n    return res.json();\r\n  };\r\n\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleResponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleResponse);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(handleResponse);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport Main from \"./Main/Main\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport Login from \"./Login/Login\";\r\nimport Register from \"./Register/Register\";\r\nimport PopupEditAvatar from \"./PopupEditAvatar/PopupEditAvatar\";\r\nimport PopupEditProfile from \"./PopupEditProfile/PopupEditProfile\";\r\nimport PopupAddPlace from \"./PopupAddPlace/PopupAddPlace\";\r\nimport PopupDeleteConfirm from \"./PopupDeleteConfirm/PopupDeleteConfirm\";\r\nimport ImagePopup from \"./PopupImage/PopupImage\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { api } from \"../utils/api\";\r\nimport ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\r\nimport PopupSuccess from \"./PopupSuccess/PopupSuccess\";\r\nimport PopupFail from \"./PopupFail/PopupFail\";\r\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] =\r\n    useState(false);\r\n  const [isFailPopupOpen, setIsFailPopupOpen] = useState(false);\r\n  const [isSuccessPopupOpen, setIsSuccessPopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({ name: \"\", about: \"\" });\r\n  const [deletingCardId, setDeletingCardId] = useState(\"\");\r\n  const [buttonAvatarText, setButtonAvatarText] = useState(\"Сохранить\");\r\n  const [buttonProfileText, setButtonProfileText] = useState(\"Сохранить\");\r\n  const [buttonAddPlaceText, setButtonAddPlaceText] = useState(\"Создать\");\r\n  const [buttonDeleteText, setButtonDeleteText] = useState(\"Да\");\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [currentUserEmail, setCurrentUserEmail] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleRemoveButtonClick = (id) => {\r\n    setDeletingCardId(id);\r\n    setIsDeleteConfirmPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (url, title) => {\r\n    setSelectCard({ url, title });\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteConfirmPopupOpen(false);\r\n    setIsFailPopupOpen(false);\r\n    setIsSuccessPopupOpen(false);\r\n\r\n    setSelectCard({});\r\n  };\r\n\r\n  const handlePopupClosing = (e) => {\r\n    if (\r\n      e.target.classList.contains(\"popup\") ||\r\n      e.target.classList.contains(\"popup__close-button\")\r\n    ) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  const handleUpdateUser = (name, about) => {\r\n    setButtonProfileText(\"Сохранение...\");\r\n    api\r\n      .editProfile(name, about)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setButtonProfileText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (avatar) => {\r\n    setButtonAvatarText(\"Сохранение...\");\r\n    api\r\n      .editAvatar(avatar)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonAvatarText(\"Сохранить\"));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (name, link) => {\r\n    setButtonAddPlaceText(\"Сохранение...\");\r\n    api\r\n      .addCard(name, link)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonAddPlaceText(\"Создать\"));\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    setButtonDeleteText(\"Удаление...\");\r\n    api\r\n      .deleteCard(deletingCardId)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== deletingCardId));\r\n      })\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonDeleteText(\"Да\"));\r\n  };\r\n\r\n  const handleCardLike = (likes, id) => {\r\n    const isLiked = likes.some((i) => i._id === currentUser._id);\r\n\r\n    if (isLiked) {\r\n      api\r\n        .removeLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    } else {\r\n      api\r\n        .addLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem(\"jwt\");\r\n    setCurrentUserEmail(\"\");\r\n    navigate(\"/react-mesto-auth\");\r\n  };\r\n\r\n  const handleSignIn = (email, password) => {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        setLoggedIn(true);\r\n        setCurrentUserEmail(email);\r\n        navigate(\"/react-mesto-auth\");\r\n        localStorage.setItem(\"jwt\", res.token);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  };\r\n\r\n  const handleSignUp = (email, password) => {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.statusCode !== 400) {\r\n          setIsSuccessPopupOpen(true);\r\n\r\n          navigate(\"/react-mesto-auth/sign-in\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        setIsFailPopupOpen(true);\r\n\r\n        return [];\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((initialCards) => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      auth\r\n        .checkToken(localStorage.getItem(\"jwt\"))\r\n        .then((data) => {\r\n          setLoggedIn(true);\r\n          navigate(\"/react-mesto-auth\");\r\n          setCurrentUserEmail(data.data.email);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    }\r\n  }, [navigate, currentUserEmail]);\r\n\r\n  useEffect(() => {\r\n    const handleEscClick = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscClick);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscClick);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header\r\n        headerEmail={currentUserEmail}\r\n        signOut={handleSignOut}\r\n        loggedIn={loggedIn}\r\n      />\r\n\r\n      <Routes>\r\n        <Route\r\n          exact\r\n          path=\"/react-mesto-auth/sign-in\"\r\n          element={<Login handleSignIn={handleSignIn} />}\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path=\"/react-mesto-auth/sign-up\"\r\n          element={<Register handleSignUp={handleSignUp} />}\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path=\"/react-mesto-auth\"\r\n          element={\r\n            <ProtectedRoute\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onRemoveButtonClick={handleRemoveButtonClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n          }\r\n        />\r\n      </Routes>\r\n\r\n      <Footer />\r\n\r\n      <PopupEditAvatar\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonText={buttonAvatarText}\r\n      />\r\n\r\n      <PopupEditProfile\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonText={buttonProfileText}\r\n      />\r\n\r\n      <PopupAddPlace\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        buttonText={buttonAddPlaceText}\r\n      />\r\n\r\n      <ImagePopup\r\n        onClose={handlePopupClosing}\r\n        url={selectedCard.url}\r\n        title={selectedCard.title}\r\n      />\r\n\r\n      <PopupDeleteConfirm\r\n        isOpen={isDeleteConfirmPopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onDelete={handleCardDelete}\r\n        buttonText={buttonDeleteText}\r\n      />\r\n\r\n      <PopupSuccess isOpen={isSuccessPopupOpen} onClose={handlePopupClosing} />\r\n      <PopupFail isOpen={isFailPopupOpen} onClose={handlePopupClosing} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}